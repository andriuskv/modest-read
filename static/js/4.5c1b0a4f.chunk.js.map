{"version":3,"sources":["components/Icon.js","utils.js","components/BannerImage/index.js","components/BannerImage/BannerImage.js","assets/icon-text.svg","components/Dropdown/index.js","components/Dropdown/Dropdown.js","components/Notification/index.js","components/Notification/Notification.js","services/settingsService.js","../node_modules/idb-keyval/dist/idb-keyval.mjs","services/fileIDBService.js","components/FileCard/index.js","components/FileCard/FileCard.js","components/LandingPage/background-image.png","components/LandingPage/icon.svg","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/v4.js","components/LandingPage/index.js","components/LandingPage/LandingPage.js","components/Files/NoFilesNotice/index.js","components/Files/NoFilesNotice/NoFilesNotice.js","components/Files/FileCardPlaceholder/index.js","components/Files/FileCardPlaceholder/FileCardPlaceholder.js","components/Files/index.js","components/Files/Files.js"],"names":["Icon","name","title","size","className","style","icons","grid","list","trash","settings","menu","close","upload","bookshelf","book","plus","minus","info","exit","width","height","viewBox","d","setDocumentTitle","document","classNames","join","trimEnd","async","pageToDataURL","pdf","page","getPage","canvas","createElement","viewport","getViewport","scale","DEFAULT_SCALE","render","canvasContext","getContext","promise","toDataURL","getPdfInstance","file","pdfjs","arrayBuffer","getDocument","Uint8Array","parseMetadata","metadata","data","Title","Author","author","getFileSizeString","bytes","suffixes","l","length","toFixed","Math","round","BannerImage","src","iconFull","alt","module","exports","Dropdown","container","toggle","body","children","state","setState","useState","id","uuidv4","memoizedWindowClickHandler","useCallback","target","closestContainer","closest","hideDropdown","isMounted","current","visible","reveal","window","removeEventListener","useRef","drop","useEffect","viewportHeight","documentElement","offsetHeight","getBoundingClientRect","onTop","top","onClick","currentTarget","addEventListener","bottom","content","ref","Notification","notification","expandable","margin","dismiss","expanded","setExpanded","type","flashing","value","setTimeout","transform","JSON","parse","localStorage","getItem","showCategories","layoutType","invertColors","keepToolbarVisible","getSettings","setSetting","key","setItem","stringify","Store","constructor","dbName","storeName","this","_dbp","Promise","resolve","reject","openreq","indexedDB","open","onerror","error","onsuccess","result","onupgradeneeded","createObjectStore","_withIDBStore","callback","then","db","transaction","oncomplete","onabort","objectStore","store","getDefaultStore","fetchIDBFiles","keys","openKeyCursor","openCursor","call","push","continue","all","map","fetchIDBFile","sortFiles","catch","e","console","log","req","get","saveFile","snippet","put","set","deleteIDBFile","delete","del","files","reading","rest","reduce","arr","status","sort","a","b","accessedAt","sortReadingFiles","concat","createdAt","sortRestFiles","FileCard","showLink","to","coverImage","sizeString","pageNumber","pageCount","left","getRandomValues","crypto","bind","msCrypto","rnds8","rng","Error","validate","uuid","REGEX","test","byteToHex","i","toString","substr","offset","arguments","undefined","toLowerCase","TypeError","v4","options","buf","rnds","random","LandingPage","hide","bgImg","icon","NoFilesNotice","handleFileUpload","onChange","accept","multiple","FileCardPlaceholder","Files","setFiles","setNotification","categoryMenuVisible","setCategoryMenuVisibility","filesLoading","setFilesLoading","landingPageHidden","setLandingPageHidden","memoizedDropHandler","event","preventDefault","dataTransfer","processFiles","memoizedDragoverHandler","importedFiles","supportedFiles","Array","from","filter","endsWith","message","find","duplicateFiles","newFiles","Date","now","loading","newSortedFiles","categories","getCategories","dismissNotification","category","changeLayout","toggleCategoryNames","checked","toggleMenu","hideMenu","renderFile","slice","index","findIndex","splice","unshift","changeReadingStatus","scrollLeft","scrollTop","resetProgress","removeFile","renderFiles","visibleCategory","init","loadFile","getMetadata","Object","assign","numPages","loadFiles","selectCategory","renderFileCategory"],"mappings":"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","file":"static/js/4.5c1b0a4f.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Icon({ name, title, size = \"20px\", className, style = {} }) {\n  const icons = {\n    grid: `M16,5V11H21V5M10,11H15V5H10M16,18H21V12H16M10,18H15V12H10M4,18H9V12H4M4,11H9V5H4V11Z`,\n    list: `M9,5V9H21V5M9,19H21V15H9M9,14H21V10H9M4,9H8V5H4M4,19H8V15H4M4,14H8V10H4V14Z`,\n    trash: `M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z`,\n    settings: `M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z`,\n    menu: `M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z`,\n    close: `M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z`,\n    \"dots-vertical\": `M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z`,\n    upload: `M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z`,\n    \"circle-cross\": `M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`,\n    \"circle-check\": `M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z`,\n    bookshelf: `M9 3V18H12V3H9M12 5L16 18L19 17L15 4L12 5M5 5V18H8V5H5M3 19V21H21V19H3Z`,\n    book: `M6.012,18H21V4c0-1.104-0.896-2-2-2H6C4.794,2,3,2.799,3,5v3v6v3v2c0,2.201,1.794,3,3,3h15v-2H6.012 C5.55,19.988,5,19.805,5,19S5.55,18.012,6.012,18z M8,6h9v2H8V6z`,\n    \"open-book\": `M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z`,\n    \"book-question-mark\": `M19,2H6A2.91,2.91,0,0,0,3,5V19a2.91,2.91,0,0,0,3,3H21V20H6a1,1,0,1,1,0-2H21V4A2,2,0,0,0,19,2ZM13.09,16h-1.8V14.2h1.8Zm2.1-6.2c-.5.6-1.3,1-1.7,1.5a2.54,2.54,0,0,0-.4,1.7h-1.8a4.52,4.52,0,0,1,.4-2.45,7.22,7.22,0,0,1,1.7-1.35c1.45-1.34,1.09-3.24-.9-3.4a1.8,1.8,0,0,0-1.8,1.8H8.89A3.6,3.6,0,0,1,12.49,4,3.48,3.48,0,0,1,15.19,9.8Z`,\n    \"book-check-mark\": `M19,2H6A2.91,2.91,0,0,0,3,5V19a2.91,2.91,0,0,0,3,3H21V20H6a1,1,0,1,1,0-2H21V4A2,2,0,0,0,19,2ZM9.61,15.75,5,11.15,7.1,9.06l2.51,2.51,7.31-7.32L19,6.34Z`,\n    \"menu-down\": `M7,10L12,15L17,10H7Z`,\n    \"reset\": `M12,6V9L16,5L12,1V4A8,8 0 0,0 4,12C4,13.57 4.46,15.03 5.24,16.26L6.7,14.8C6.25,13.97 6,13 6,12A6,6 0 0,1 12,6M18.76,7.74L17.3,9.2C17.74,10.04 18,11 18,12A6,6 0 0,1 12,18V15L8,19L12,23V20A8,8 0 0,0 20,12C20,10.43 19.54,8.97 18.76,7.74Z`,\n    plus: `M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z`,\n    minus: `M19,13H5V11H19V13Z`,\n    \"arrow-up\": `M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z`,\n    \"arrow-down\": `M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z`,\n    info: `M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z`,\n    exit: `M19,3H5C3.89,3 3,3.89 3,5V9H5V5H19V19H5V15H3V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M10.08,15.58L11.5,17L16.5,12L11.5,7L10.08,8.41L12.67,11H3V13H12.67L10.08,15.58Z`\n  };\n  style = { ...style, width: size, height: size };\n\n  return (\n    <svg viewBox=\"0 0 24 24\" className={className} style={style}>\n      {title && <title>{title}</title>}\n      <path d={icons[name]} />\n    </svg>\n  );\n}\n","function setDocumentTitle(title) {\n  document.title = `${title} | ModestRead`;\n}\n\nfunction classNames(...classNames) {\n  return classNames.join(\" \").trimEnd();\n}\n\nasync function pageToDataURL(pdf) {\n  const DEFAULT_SCALE = 0.4;\n  const page = await pdf.getPage(1);\n  const canvas = document.createElement(\"canvas\");\n  const maxWidth = 162;\n  const maxHeight = 240;\n  let viewport = page.getViewport({ scale: DEFAULT_SCALE });\n\n  if (viewport.width < maxWidth) {\n    viewport = page.getViewport({ scale: DEFAULT_SCALE * maxWidth / viewport.width });\n  }\n  else if (viewport.height > maxHeight) {\n    viewport = page.getViewport({ scale: DEFAULT_SCALE * maxHeight / viewport.height });\n  }\n  canvas.width = viewport.width;\n  canvas.height = viewport.height;\n\n  await page.render({ canvasContext: canvas.getContext(\"2d\"), viewport }).promise;\n  return canvas.toDataURL(\"image/jpeg\", 0.8);\n}\n\nasync function getPdfInstance(file, pdfjs) {\n  const arrayBuffer = await file.arrayBuffer();\n  return pdfjs.getDocument(new Uint8Array(arrayBuffer)).promise;\n}\n\nfunction parseMetadata(metadata) {\n  const data = {};\n\n  if (metadata.info.Title) {\n    data.title = metadata.info.Title;\n  }\n\n  if (metadata.info.Author) {\n    data.author = metadata.info.Author;\n  }\n  return data;\n}\n\nfunction getFileSizeString(bytes) {\n  const suffixes = [\"B\", \"kB\", \"MB\", \"GB\"];\n  let size = bytes;\n  let l = 0;\n\n  while (l < suffixes.length) {\n    if (size < 1000) {\n      break;\n    }\n    else {\n      size /= 1000;\n    }\n    l += 1;\n  }\n  size = l > 0 ? size.toFixed(1) : Math.round(size);\n  return `${size} ${suffixes[l]}`;\n}\n\nexport {\n  setDocumentTitle,\n  classNames,\n  pageToDataURL,\n  getPdfInstance,\n  parseMetadata,\n  getFileSizeString\n};\n","import BannerImage from \"./BannerImage.js\";\nexport default BannerImage;\n","import React from \"react\";\nimport iconFull from \"../../assets/icon-text.svg\";\nimport \"./banner-image.scss\";\n\nexport default function BannerImage() {\n  return <img src={iconFull} className=\"banner-image\" alt=\"\"/>;\n}\n","module.exports = __webpack_public_path__ + \"static/media/icon-text.9dc879ec.svg\";","import Dropdown from \"./Dropdown.js\";\nexport default Dropdown;\n","import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport \"./dropdown.scss\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport default function Dropdown({ container, toggle, body, children }) {\n  const [state, setState] = useState({ id: uuidv4() });\n  const memoizedWindowClickHandler = useCallback(handleWindowClick, [state.id]);\n  const isMounted = useRef(false);\n  const drop = useRef(null);\n\n  useEffect(() => {\n    isMounted.current = true;\n\n    return () => {\n      isMounted.current = false;\n      window.removeEventListener(\"click\", memoizedWindowClickHandler);\n    };\n  }, [memoizedWindowClickHandler]);\n\n  useEffect(() => {\n    if (state.reveal) {\n      const viewportHeight = document.documentElement.offsetHeight;\n      const height = drop.current.getBoundingClientRect().height;\n\n      setState({\n        ...state,\n        onTop: state.top + height > viewportHeight,\n        visible: true\n      });\n    }\n  }, [state.reveal]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  function toggleDropdown({ currentTarget }) {\n    let top = 0;\n\n    if (state.visible) {\n      window.removeEventListener(\"click\", memoizedWindowClickHandler);\n    }\n    else {\n      window.addEventListener(\"click\", memoizedWindowClickHandler);\n      top = currentTarget.getBoundingClientRect().bottom;\n    }\n    setState({\n      id: state.id,\n      visible: false,\n      reveal: !state.visible,\n      top,\n      onTop: false\n    });\n  }\n\n  function handleWindowClick({ target }) {\n    const closestContainer = target.closest(\".dropdown-container\");\n    let hideDropdown = true;\n\n    if (closestContainer?.id === state.id) {\n      if (target.closest(\"[data-dropdown-keep]\")) {\n        hideDropdown = false;\n      }\n      else {\n        hideDropdown = target.closest(\"a\") || target.closest(\".dropdown-btn\");\n      }\n    }\n\n    if (hideDropdown) {\n      if (isMounted.current) {\n        setState({ id: state.id, visible: false, reveal: false });\n      }\n      window.removeEventListener(\"click\", memoizedWindowClickHandler);\n    }\n  }\n\n  return (\n    <div id={state.id} className={`dropdown-container${container ? ` ${container.className}` : \"\"}`}>\n      <button onClick={toggleDropdown}\n        title={toggle.title}\n        className={`${toggle.className}${state.visible ? \" active\" : \"\"}`}>\n        {toggle.content}\n      </button>\n      <div ref={drop} className={`dropdown${body ? ` ${body.className}` : \"\"}${state.reveal ? \" reveal\" : \"\"}${state.visible ? \" visible\" : \"\"}${state.onTop ? \" top\" : \"\"}`}>{children}</div>\n    </div>\n  );\n}\n","import Notification from \"./Notification.js\";\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport \"./notification.scss\";\nimport { classNames } from \"../../utils\";\nimport Icon from \"../Icon\";\n\nexport default function Notification({ notification, expandable, margin, children, dismiss }) {\n  const [state, setState] = useState(notification);\n  const [expanded, setExpanded] = useState(false);\n  const type = notification.type || \"negative\";\n\n  useEffect(() => {\n    if (!state.flashing && state !== notification) {\n      if (state.value !== notification.value) {\n        setState(notification);\n        return;\n      }\n      setState({ ...state, flashing: true });\n\n      setTimeout(() => {\n        setState(notification);\n      }, 640);\n    }\n  }, [state, notification]);\n\n  function toggleExpanded() {\n    setExpanded(!expanded);\n  }\n\n  return (\n    <div className={classNames(\"notification\", type, margin ? `margin-${margin}` : \"\", expanded ? \"expanded\" : \"\", state.flashing ? \"flash\" : \"\")}>\n      <Icon name={type === \"negative\" ? \"circle-cross\" : \"circle-check\"} className=\"notification-icon\" size=\"24px\"/>\n      {expandable ? (\n        <div className=\"notification-expandable-content-container\">\n          <div className=\"notification-expandable-content\">\n            <span>{notification.value}</span>\n            <button className=\"btn icon-btn notification-btn notification-expand-btn\"\n              onClick={toggleExpanded} title=\"Details\"\n              style={{ transform: `rotateZ(${expanded ? \"180deg\" : \"0\"})`}}>\n              <Icon name=\"menu-down\"/>\n            </button>\n          </div>\n          {expanded && children}\n        </div>\n      ) : <span className=\"notification-text\">{state.value}</span>}\n      <button type=\"button\" className=\"btn icon-btn notification-btn notification-dismiss-btn\"\n        onClick={dismiss} title=\"Dismiss\">\n        <Icon name=\"close\"/>\n      </button>\n    </div>\n  );\n}\n","const settings = JSON.parse(localStorage.getItem(\"settings\")) || {\n  showCategories: false,\n  layoutType: \"grid\",\n  invertColors: false,\n  keepToolbarVisible: false\n};\n\nfunction getSettings() {\n  return settings;\n}\n\nfunction setSetting(key, value) {\n  settings[key] = value;\n  localStorage.setItem(\"settings\", JSON.stringify(settings));\n}\n\nexport {\n  getSettings,\n  setSetting\n};\n","class Store {\r\n    constructor(dbName = 'keyval-store', storeName = 'keyval') {\r\n        this.storeName = storeName;\r\n        this._dbp = new Promise((resolve, reject) => {\r\n            const openreq = indexedDB.open(dbName, 1);\r\n            openreq.onerror = () => reject(openreq.error);\r\n            openreq.onsuccess = () => resolve(openreq.result);\r\n            // First time setup: create an empty object store\r\n            openreq.onupgradeneeded = () => {\r\n                openreq.result.createObjectStore(storeName);\r\n            };\r\n        });\r\n    }\r\n    _withIDBStore(type, callback) {\r\n        return this._dbp.then(db => new Promise((resolve, reject) => {\r\n            const transaction = db.transaction(this.storeName, type);\r\n            transaction.oncomplete = () => resolve();\r\n            transaction.onabort = transaction.onerror = () => reject(transaction.error);\r\n            callback(transaction.objectStore(this.storeName));\r\n        }));\r\n    }\r\n}\r\nlet store;\r\nfunction getDefaultStore() {\r\n    if (!store)\r\n        store = new Store();\r\n    return store;\r\n}\r\nfunction get(key, store = getDefaultStore()) {\r\n    let req;\r\n    return store._withIDBStore('readonly', store => {\r\n        req = store.get(key);\r\n    }).then(() => req.result);\r\n}\r\nfunction set(key, value, store = getDefaultStore()) {\r\n    return store._withIDBStore('readwrite', store => {\r\n        store.put(value, key);\r\n    });\r\n}\r\nfunction del(key, store = getDefaultStore()) {\r\n    return store._withIDBStore('readwrite', store => {\r\n        store.delete(key);\r\n    });\r\n}\r\nfunction clear(store = getDefaultStore()) {\r\n    return store._withIDBStore('readwrite', store => {\r\n        store.clear();\r\n    });\r\n}\r\nfunction keys(store = getDefaultStore()) {\r\n    const keys = [];\r\n    return store._withIDBStore('readonly', store => {\r\n        // This would be store.getAllKeys(), but it isn't supported by Edge or Safari.\r\n        // And openKeyCursor isn't supported by Safari.\r\n        (store.openKeyCursor || store.openCursor).call(store).onsuccess = function () {\r\n            if (!this.result)\r\n                return;\r\n            keys.push(this.result.key);\r\n            this.result.continue();\r\n        };\r\n    }).then(() => keys);\r\n}\n\nexport { Store, get, set, del, clear, keys };\n","import { Store, set, get, keys, del } from \"idb-keyval\";\n\nconst store = new Store(\"ModestKeep\", \"files\");\n\nfunction fetchIDBFiles() {\n  return keys(store).then(keys => Promise.all(keys.map(fetchIDBFile)))\n    .then(sortFiles)\n    .catch(e => {\n      console.log(e);\n      return [];\n    });\n}\n\nfunction fetchIDBFile(id) {\n  return get(id, store);\n}\n\nfunction saveFile(snippet) {\n  set(snippet.id, snippet, store);\n}\n\nfunction deleteIDBFile(id) {\n  return del(id, store).then(() => true);\n}\n\nfunction sortFiles(files) {\n  const [reading, rest] = files.reduce((arr, file) => {\n    if (file.status === \"reading\") {\n      arr[0].push(file);\n    }\n    else {\n      arr[1].push(file);\n    }\n    return arr;\n  }, [[], []]);\n\n  return sortReadingFiles(reading).concat(sortRestFiles(rest));\n}\n\nfunction sortReadingFiles(files) {\n  return files.sort((a, b) => {\n    return b.accessedAt - a.accessedAt;\n  });\n}\n\nfunction sortRestFiles(files) {\n  return files.sort((a, b) => {\n    return a.createdAt - b.createdAt;\n  });\n}\n\nexport {\n  fetchIDBFiles,\n  fetchIDBFile,\n  saveFile,\n  deleteIDBFile,\n  sortFiles\n};\n","import FileCard from \"./FileCard.js\";\nexport default FileCard;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./file-card.scss\";\n\nexport default function FileCard({ file, showLink, children }) {\n  return (\n    <li className=\"file-card\">\n      {showLink ? (\n        <Link to={`/viewer/${file.id}`} className=\"file-card-left\" title={`Open ${file.name}`}>\n          <img src={file.coverImage} className=\"file-card-image\" alt=\"\"/>\n        </Link>\n      ) : <img src={file.coverImage} className=\"file-card-left file-card-image\" alt=\"\"/>}\n      <div className=\"file-card-info\">\n        <div className=\"file-card-title\">{file.title || file.name}</div>\n        {file.author && <div className=\"file-card-author\">{file.author}</div>}\n        <div className=\"file-card-secondary-info\">\n          {file.title && <div className=\"file-card-secondary-info-item file-card-filename\">{file.name}</div>}\n          <div className=\"file-card-secondary-info-item\">{file.sizeString}</div>\n        </div>\n        <div className=\"file-card-progress-container\"\n          title={`${file.pageNumber} of ${file.pageCount} page${file.pageCount === 1 ? \"\" : \"s\"} read`}>\n          <div className=\"file-card-progress\">\n            <div className=\"file-card-progress-bar\" style={{ left: `${(file.pageNumber - 1) / file.pageCount * 100}%` }}></div>\n          </div>\n        </div>\n        <div className=\"file-card-bottom\">{children}</div>\n      </div>\n    </li>\n  );\n}\n","module.exports = __webpack_public_path__ + \"static/media/background-image.21df966e.png\";","module.exports = __webpack_public_path__ + \"static/media/icon.6032df8e.svg\";","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import LandingPage from \"./LandingPage.js\";\nexport default LandingPage;\n","import React from \"react\";\nimport bgImg from \"./background-image.png\";\nimport icon from \"./icon.svg\";\nimport \"./landing-page.scss\";\n\nexport default function LandingPage({ hide }) {\n  return (\n    <div className=\"landing-container\">\n      <div className=\"landing\">\n        <div className=\"landing-background\"></div>\n        <div className=\"landing-background-image-container\">\n          <img src={bgImg} className=\"landing-background-image\" alt=\"\"/>\n        </div>\n        <div className=\"landing-main\">\n          <img src={icon} alt=\"\" className=\"landing-icon\"/>\n          <h1 className=\"landing-title\">ModestRead</h1>\n          <p className=\"landing-subtitle\">A simple way to enjoy reading.</p>\n          <button className=\"btn primary-btn landing-btn\" onClick={hide}>Get Started</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import NoFilesNotice from \"./NoFilesNotice.js\";\nexport default NoFilesNotice;\n","import React from \"react\";\nimport Icon from \"../../Icon\";\nimport Notification from \"../../Notification\";\nimport BannerImage from \"../../BannerImage\";\nimport \"./no-files-notice.scss\";\n\nexport default function NoFilesNotice({ notification, dismiss, handleFileUpload }) {\n  return (\n    <div className=\"no-files-notice\">\n      <BannerImage/>\n      <div className=\"no-files-notice-message-container\">\n        <p className=\"no-files-notice-message-main\">You don't have any files.</p>\n        <p className=\"no-files-notice-message\">Drag and drop or click on a button to import.</p>\n      </div>\n      {notification && <Notification notification={notification} margin=\"bottom\" dismiss={dismiss}/>}\n      <label className=\"btn icon-text-btn primary-btn no-files-notice-btn\">\n        <Icon name=\"upload\" size=\"24px\"/>\n        <span>Import Files</span>\n        <input type=\"file\" onChange={handleFileUpload} className=\"sr-only\" accept=\"application/pdf\" multiple/>\n      </label>\n    </div>\n  );\n}\n","import FileCardPlaceholder from \"./FileCardPlaceholder.js\";\nexport default FileCardPlaceholder;\n","import React from \"react\";\nimport \"./file-card-placeholder.scss\";\n\nexport default function FileCardPlaceholder() {\n  return (\n    <li className=\"file-card-placeholder\">\n      <div className=\"file-card-image-placeholder\"></div>\n      <div className=\"file-card-info-placeholder\">\n        <div className=\"file-card-title-placeholder\"></div>\n        <div className=\"file-card-author-placeholder\"></div>\n        <div className=\"file-card-secondary-info-placeholder\">\n          <div className=\"file-card-secondary-info-item-placeholder\"></div>\n          <div className=\"file-card-secondary-info-item-placeholder\"></div>\n        </div>\n        <div className=\"file-card-progress-placeholder\"></div>\n        <div className=\"file-card-bottom-placeholder\">\n          <div className=\"file-card-bottom-btn-placeholder\"></div>\n        </div>\n      </div>\n    </li>\n  );\n}\n","import Files from \"./Files.js\";\nexport default Files;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { setDocumentTitle, pageToDataURL, getPdfInstance, parseMetadata, getFileSizeString } from \"../../utils\";\nimport { fetchIDBFiles, saveFile, deleteIDBFile, sortFiles } from \"../../services/fileIDBService\";\nimport { getSettings, setSetting } from \"../../services/settingsService\";\nimport Icon from \"../Icon\";\nimport Dropdown from \"../Dropdown\";\nimport LandingPage from \"../LandingPage\";\nimport Notification from \"../Notification\";\nimport NoFilesNotice from \"./NoFilesNotice\";\nimport FileCardPlaceholder from \"./FileCardPlaceholder\";\nimport FileCard from \"../FileCard\";\nimport \"./files.scss\";\n\nexport default function Files() {\n  const [state, setState] = useState(null);\n  const [files, setFiles] = useState([]);\n  const [notification, setNotification] = useState(null);\n  const [categoryMenuVisible, setCategoryMenuVisibility] = useState(null);\n  const [filesLoading, setFilesLoading] = useState(false);\n  const [landingPageHidden, setLandingPageHidden] = useState(localStorage.getItem(\"hide-landing-page\"));\n  const memoizedDropHandler = useCallback(handleDrop, [state, files]);\n  const memoizedDragoverHandler = useCallback(handleDragover, [state, files]);\n\n  useEffect(() => {\n    if (landingPageHidden) {\n      init();\n    }\n    else {\n      window.title = \"ModestRead\";\n    }\n  }, [landingPageHidden]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    async function loadFile(file, pdfjs) {\n      const pdf = await getPdfInstance(file.file, pdfjs);\n      const [metadata, coverImage] = await Promise.all([pdf.getMetadata(), pageToDataURL(pdf)]);\n\n      delete file.loading;\n      delete file.file;\n\n      Object.assign(file, {\n        ...parseMetadata(metadata),\n        coverImage,\n        pageCount: pdf.numPages\n      });\n\n      setFiles([...files]);\n      saveFile(file);\n    }\n\n    async function loadFiles() {\n      const pdfjs = await import(\"pdfjs-dist/webpack\");\n\n      for (const file of files) {\n        if (file.loading) {\n          loadFile(file, pdfjs);\n        }\n      }\n    }\n\n    if (filesLoading) {\n      setFilesLoading(false);\n      loadFiles();\n    }\n  }, [filesLoading]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    window.addEventListener(\"drop\", memoizedDropHandler);\n    window.addEventListener(\"dragover\", memoizedDragoverHandler);\n\n    return () => {\n      window.removeEventListener(\"drop\", memoizedDropHandler);\n      window.removeEventListener(\"dragover\", memoizedDragoverHandler);\n    };\n  }, [memoizedDropHandler, memoizedDragoverHandler]);\n\n  async function init() {\n    const files = await fetchIDBFiles();\n    const settings = getSettings();\n\n    setFiles(files);\n    setState({\n      visibleCategory: \"all\",\n      categories: getCategories(files),\n      type: settings.layoutType,\n      showCategories: settings.showCategories\n    });\n    setDocumentTitle(\"Files\");\n  }\n\n  function handleDrop(event) {\n    event.preventDefault();\n\n    if (event.dataTransfer.files.length) {\n      processFiles(event.dataTransfer.files);\n    }\n  }\n\n  function handleDragover(event) {\n    event.preventDefault();\n  }\n\n  function processFiles(importedFiles) {\n    const supportedFiles = Array.from(importedFiles).filter(file => file.name.endsWith(\".pdf\"));\n\n    if (importedFiles.length === 1) {\n      let message = \"\";\n\n      if (!supportedFiles.length) {\n        message = \"File is not supported.\";\n      }\n      else if (files.find(({ name }) => name === importedFiles[0].name)) {\n        message = \"File already exist.\";\n      }\n\n      if (message) {\n        setNotification({ value: message });\n        setCategoryMenuVisibility(false);\n        return;\n      }\n    }\n    else if (!supportedFiles.length) {\n      setNotification({ value: \"No supported files found.\" });\n      setCategoryMenuVisibility(false);\n      return;\n    }\n    const duplicateFiles = [];\n    const newFiles = [];\n\n    for (const file of supportedFiles) {\n      const foundFile = files.find(({ name }) => name === file.name);\n\n      if (foundFile) {\n        duplicateFiles.push(file.name);\n      }\n      else {\n        newFiles.push({\n          file,\n          id: uuidv4(),\n          createdAt: Date.now(),\n          name: file.name,\n          size: file.size,\n          sizeString: getFileSizeString(file.size),\n          status: \"not started\",\n          pageNumber: 1,\n          loading: true\n        });\n      }\n    }\n\n    if (duplicateFiles.length) {\n      if (duplicateFiles.length === importedFiles.length) {\n        setNotification({ value: \"Files already exist.\" });\n        setCategoryMenuVisibility(false);\n        return;\n      }\n      else {\n        setNotification({\n          value: \"Some of the files were not imported because they already exist.\",\n          files: duplicateFiles,\n          expandable: true\n        });\n      }\n    }\n    const newSortedFiles = sortFiles(newFiles.concat(files));\n\n    setFiles(newSortedFiles);\n    setFilesLoading(true);\n    setState({\n      ...state,\n      categories: getCategories(newSortedFiles)\n    });\n    setCategoryMenuVisibility(false);\n\n    if (notification) {\n      dismissNotification();\n    }\n    localStorage.setItem(\"hide-landing-page\", true);\n  }\n\n  function getCategories(files) {\n    const categories = [{\n      name: \"All\",\n      id: \"all\",\n      icon: \"bookshelf\",\n      files: []\n    },\n    {\n      name: \"Reading\",\n      id: \"reading\",\n      icon: \"open-book\",\n      files: []\n    },\n    {\n      name: \"Planing to Read\",\n      id: \"planing to read\",\n      icon: \"book-question-mark\",\n      files: []\n    },\n    {\n      name: \"Have Read\",\n      id: \"have read\",\n      icon: \"book-check-mark\",\n      files: []\n    },\n    {\n      name: \"Not Started\",\n      id: \"not started\",\n      icon: \"book\",\n      files: []\n    }];\n\n    for (const category of categories) {\n      if (category.id === \"all\") {\n        category.files = files;\n      }\n      else {\n        category.files = files.filter(file => file.status === category.id);\n      }\n    }\n    return categories;\n  }\n\n  function handleFileUpload(event) {\n    if (event.target.files.length) {\n      processFiles(event.target.files);\n    }\n    event.target.value = \"\";\n  }\n\n  function selectCategory(category) {\n    if (category !== state.visibleCategory) {\n      setState({\n        ...state,\n        visibleCategory: category\n      });\n\n      if (categoryMenuVisible) {\n        setCategoryMenuVisibility(false);\n      }\n    }\n  }\n\n  function changeReadingStatus(id, status) {\n    const index = files.findIndex(file => file.id === id);\n    const file = files[index];\n\n    if (status === file.status) {\n      return;\n    }\n\n    if (status === \"reset\") {\n      delete file.status;\n    }\n    else {\n      file.status = status;\n\n      if (status === \"reading\") {\n        file.accessedAt = Date.now();\n        files.splice(index, 1);\n        files.unshift(file);\n      }\n    }\n    setFiles([...files]);\n    setState({\n      ...state,\n      categories: getCategories(files)\n    });\n    saveFile(file);\n  }\n\n  function resetProgress(id) {\n    const file = files.find(file => file.id === id);\n    file.status = \"not started\";\n    file.pageNumber = 1;\n\n    delete file.accessedAt;\n    delete file.scale;\n    delete file.scrollLeft;\n    delete file.scrollTop;\n\n    setFiles([...files]);\n    setState({\n      ...state,\n      categories: getCategories(files)\n    });\n    saveFile(file);\n  }\n\n  function removeFile(id) {\n    const index = files.findIndex(file => file.id === id);\n\n    files.splice(index, 1);\n    setFiles([...files]);\n    setState({\n      ...state,\n      categories: getCategories(files)\n    });\n    deleteIDBFile(id);\n  }\n\n  function dismissNotification() {\n    setNotification(null);\n  }\n\n  function changeLayout(type) {\n    if (type !== state.type) {\n      setState({ ...state, type });\n      setSetting(\"layoutType\", type);\n    }\n  }\n\n  function toggleCategoryNames(event) {\n    const { checked } = event.target;\n\n    setState({\n      ...state,\n      showCategories: checked\n    });\n    setSetting(\"showCategories\", checked);\n  }\n\n  function toggleMenu() {\n    setCategoryMenuVisibility(!categoryMenuVisible);\n  }\n\n  function hideMenu({ target, currentTarget }) {\n    if (categoryMenuVisible && target === currentTarget) {\n      setCategoryMenuVisibility(false);\n    }\n  }\n\n  function hideLandingPage() {\n    setLandingPageHidden(true);\n  }\n\n  function renderCategoryMenu() {\n    return (\n      <div className=\"files-header\">\n        <div className=\"files-sidebar-toggle-btn-container\">\n          <button className=\"btn icon-btn\" onClick={toggleMenu}>\n            <Icon name=\"menu\" size=\"24px\"/>\n          </button>\n        </div>\n        <div className=\"files-header-title-container\">\n          <h1 className=\"files-header-title\">ModestRead</h1>\n        </div>\n        <div className={`files-categories-container${categoryMenuVisible ? \" visible\" : \"\"}`} onClick={hideMenu}>\n          <div className=\"files-sidebar\">\n            <div className=\"files-sidebar-title-container\">\n              <h1 className=\"files-sidebar-title\">ModestRead</h1>\n            </div>\n            <ul className=\"files-categories\">\n              {state.categories.map((category, i) => (\n                <li key={i}>\n                  <button className={`btn icon-text-btn files-category-btn${state.visibleCategory === category.id ? \" active\" : \"\"}`}\n                    onClick={() => selectCategory(category.id)}>\n                    <Icon name={category.icon} size=\"24px\"/>\n                    <span>{category.name}</span>\n                    <span>{category.files.length}</span>\n                  </button>\n                </li>\n              ))}\n            </ul>\n            <label className=\"btn icon-text-btn dropdown-btn files-import-btn\">\n              <Icon name=\"upload\" size=\"24px\"/>\n              <span>Import Files</span>\n              <input type=\"file\" onChange={handleFileUpload} className=\"sr-only\" accept=\"application/pdf\" multiple/>\n            </label>\n            <Dropdown\n              toggle={{\n                content: <Icon name=\"settings\" size=\"24px\"/>,\n                title: \"Settings\",\n                className: \"btn icon-btn icon-btn-alt files-settings-toggle-btn\"\n              }}\n              body={{ className: \"files-settings\" }}>\n              <div className=\"files-settings-layout\">\n                <button className={`btn icon-text-btn files-settings-layout-item${state.type === \"grid\" ? \" active\" : \"\"}`}\n                  onClick={() => changeLayout(\"grid\")}>\n                  <Icon name=\"grid\" size=\"24px\"/>\n                  <span>Grid</span>\n                </button>\n                <button className={`btn icon-text-btn files-settings-layout-item${state.type === \"list\" ? \" active\" : \"\"}`}\n                  onClick={() => changeLayout(\"list\")}>\n                  <Icon name=\"list\" size=\"24px\"/>\n                  <span>List</span>\n                </button>\n              </div>\n              <label className=\"checkbox-container files-settings-show-categories-setting\">\n                <input type=\"checkbox\" className=\"sr-only checkbox-input\" onChange={toggleCategoryNames}\n                  checked={state.showCategories}/>\n                <div className=\"checkbox\">\n                  <div className=\"checkbox-tick\"></div>\n                </div>\n                <span className=\"checkbox-label\">Show categories</span>\n              </label>\n            </Dropdown>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  function renderFile(file) {\n    return (\n      <FileCard file={file} showLink={true} key={file.id}>\n        <Dropdown\n          toggle={{\n            content: <Icon name=\"dots-vertical\"/>,\n            title: \"More\",\n            className: \"btn icon-btn\"\n          }}>\n          <div className=\"files-file-card-dropdown-group\">\n            <div className=\"files-file-card-dropdown-group-title\">Reading Status</div>\n            {state.categories.slice(1).map((category, i) => (\n              <button className={`btn icon-text-btn dropdown-btn files-file-card-dropdown-btn${file.status === category.id ? \" active\" : \"\"}`} key={i}\n                onClick={() => changeReadingStatus(file.id, category.id)}>\n                <Icon name={category.icon}/>\n                <span>{category.name}</span>\n              </button>\n            ))}\n          </div>\n          <div className=\"files-file-card-dropdown-group\">\n            <button className=\"btn icon-text-btn dropdown-btn files-file-card-dropdown-btn\"\n              onClick={() => resetProgress(file.id)}>\n              <Icon name=\"reset\"/>\n              <span>Reset Progress</span>\n            </button>\n            <button className=\"btn icon-text-btn dropdown-btn files-file-card-dropdown-btn\"\n              onClick={() => removeFile(file.id)}>\n              <Icon name=\"trash\"/>\n              <span>Remove File</span>\n            </button>\n          </div>\n        </Dropdown>\n      </FileCard>\n    );\n  }\n\n  function renderFiles(files) {\n    return (\n      <ul className={`files-cards ${state.type}`}>\n        {files.map(file => file.loading ? <FileCardPlaceholder key={file.id}/> : renderFile(file))}\n      </ul>\n    );\n  }\n\n  function renderFileCategory() {\n    if (state.visibleCategory === \"all\" && state.showCategories) {\n      return state.categories.slice(1).map((category, i) => (\n        category.files.length ? (\n          <div key={i}>\n            <h3 className=\"files-category-name\">\n              <Icon name={category.icon} size=\"24px\"/>\n              <span>{category.name}</span>\n            </h3>\n            {renderFiles(category.files)}\n          </div>\n        ) : null\n      ));\n    }\n    const { files } = state.categories.find(({ id }) => id === state.visibleCategory);\n\n    if (files.length) {\n      return renderFiles(files);\n    }\n    return <p className=\"files-empty-category-notice\">You have no files in this category.</p>;\n  }\n\n  if (!landingPageHidden) {\n    return <LandingPage hide={hideLandingPage}/>;\n  }\n  else if (state) {\n    return (\n      <div className=\"files\">\n        {files.length ? (\n          <>\n            {renderCategoryMenu()}\n            {notification && (\n              <Notification notification={notification} expandable={notification.expandable}\n                dismiss={dismissNotification}>\n                {notification.files ? (\n                  <ul className=\"files-duplicate-files\">\n                    {notification.files.map((file, i) => (\n                      <li className=\"files-duplicate-file\" key={i}>{file}</li>\n                    ))}\n                  </ul>\n                ) : null}\n              </Notification>\n            )}\n            {renderFileCategory()}\n          </>\n        ) : <NoFilesNotice notification={notification}\n          dismiss={dismissNotification}\n          handleFileUpload={handleFileUpload}/>\n        }\n      </div>\n    );\n  }\n  return null;\n}\n"],"sourceRoot":""}